<!DOCTYPE html>
<html>
  <head>
    <title>JSAV Slideshow Demonstration</title>
    <link rel="stylesheet" href="../../JSAV/css/JSAV.css" type="text/css" media="screen" title="no title" charset="utf-8" />
    <style>
    #container {
      width: 98%;
      position: relative;
    }
    .jsavcounter {
      position: absolute;
      top: 15px;
    }
    .jsavcanvas { height: 150px; }
    </style>
  </head>
  <body>
    <h1>JSAV Slideshow Demonstration</h1>
  <div id="container">
    <div class="jsavcontrols"></div><span class="jsavcounter"></span>
    <p class="jsavoutput jsavline"></p>
    <div class="jsavcanvas"></div>
  </div>
  <style>
  </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="../../JSAV/lib/jquery.transit.js"></script>
    <script src="../../JSAV/lib/raphael.js"></script>
    <script src="../../JSAV/build/JSAV.js"></script>
    <script>
  (function() {
    var av = new JSAV("container");
    var theArray = [20, 30, 44, 54, 55, 11, 78, 14, 13, 79, 12, 98];
    theArray.sort();
    var arr = av.ds.array(theArray, {indexed: true});
    av.umsg("Original Array");
    // Note: av.displayInit() will not affect the number of slides.
    // All that it will do is affect what you get to see on the
    // initial slide.
    
    av.displayInit();
    // We are now starting a new slide (#2)
    av.umsg("Create an empty array of the same size", {preserve: false});
    var tempArray = new Array(12);
    for(i = 0; i<tempArray.length; i++)
    {
        var validate = false;
        while(validate == false)
        {
            var rand = Math.floor(Math.random() * (11-0 +1)) + 0; 
            for(j = 0; j < i; j++)
            {
                if(tempArray[j] == rand)
                {
                    validate = true;
                }
            }
            if(validate == true)
            {
                validate == false;
            }
            else{
                tempArray[i] = rand;
                validate = true;
            }
        }
        
    }
    
    for(i = 0; i < theArray.length; i++)
    {
        var val = tempArray[i];
        var val2 = theArray[val];
        for(j = 0; j < theArray.length; j++)
        {
            if(theArray[j] == val2)
            {
                arr.swap(i,j);
            }
        }
        av.step();
    }
    
    // We are now starting a new slide (#3)
    av.umsg("Text after av.step()");
    av.recorded();
    // If you add av.umsg after av.recorded, it will add new slides in
    // ways that you probably do not expect and probably cannot
    // control in the way that you want. As av.recorded() rewinds the
    // slideshow, the new slides would go to the beginning of the slideshow.
    // So, unless you are trying to add slides on-the-fly
    // interactively, you don't want to do this.
    // av.umsg("Text after av.recorded()");
}());
    </script>
  </body>
</html>
